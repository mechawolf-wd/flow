export const evaluateExpression = (componentSetup, expression) => {
    console.count('eval')
    const setupKeys = Object.keys(componentSetup)

    const evaluator = new Function(...setupKeys, `return ${expression}`)

    const setupValues = Object.values(componentSetup)

    setupValues.forEach((setupValue, index) => {
        if (setupValue?.configuration?.isReactiveVariable) {
            setupValues[index] = setupValues[index].value
        }
    })

    return evaluator(...setupValues)
}