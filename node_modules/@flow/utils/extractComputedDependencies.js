export function extractComputedDependencies(func) {
    const funcStr = func.toString();

    // Regex that matches words followed by .value, skipping strings and comments
    const valueRegex = /\/\/.*|".*?"|'.*?'|(\b\w+\.value\b)/g;

    let match;
    const dependencies = new Set();

    // Execute the regex across the function string
    while ((match = valueRegex.exec(funcStr)) !== null) {
        // Check if the capturing group for .value references is not undefined
        if (match[1]) {
            dependencies.add(match[1]);
        }
    }

    const variableDependencies = Array.from(dependencies)

    const mappedDependencies = variableDependencies.map((dependency) => {
        return dependency.slice(0, dependency.indexOf('.value'))
    })

    return mappedDependencies;
}
