import { evaluateJSExpression } from '../../../utils/evaluateJSExpression.js'

export const bindIfDirective = (mappedNode, componentContext, attributeReferences) => {
    const value = mappedNode.element.getAttribute('data-flow-attribute-original-content-if')

    $FlowEngine.queueEffect({
        references: attributeReferences,
        effect: () => {
            const display = Boolean(evaluateJSExpression(componentContext, value))

            mappedNode.element.style.display = display ? 'initial' : 'none'
        }
    })
}