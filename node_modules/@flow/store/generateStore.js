import { reactiveVariable } from '../reactivity/reactiveVariable.js'

// This is the function that generates a global store
export function generateStore(name, storeFunction) {
    return () => {
        const store = storeFunction({
            ref: (value) => {
                return reactiveVariable(value, { isStored: true, isRef: true, influences: [] })
            }
        })

        $Flow.setStore(name, store)
    }
}