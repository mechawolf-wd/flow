import { reactiveVariable, generateNewReference } from '../reactivity/reactiveVariable.js'

export function generateStore(name, storeFunction) {
    return () => {
        const storeReference = generateNewReference()

        const store = storeFunction({
            ref: (value) => {
                return reactiveVariable(value, storeReference, { isStored: true })
            }
        })

        $Flow.setStore(name, store)
    }
}